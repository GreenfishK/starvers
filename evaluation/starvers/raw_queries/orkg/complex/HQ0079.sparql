PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX orkgr: <http://orkg.org/orkg/resource/>
PREFIX orkgc: <http://orkg.org/orkg/class/>
PREFIX orkgp: <http://orkg.org/orkg/predicate/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?repo ?scenario ?simulation_parameters
WHERE {
  ?paper orkgp:P31 ?contrib.
  ?contrib orkgp:P37586 ?model.
  ?model orkgp:P39010 ?code.
  ?code orkgp:P4077 ?repo.
  OPTIONAL {
    ?model orkgp:P43146 ?scenario.
    {
      SELECT ?scenario ?simulation_parameters
      WHERE {
        ?scenario orkgp:P31 ?contrib2.
        ?contrib2 orkgp:P37586 ?model2.
        ?model2 orkgp:P37583 ?data.
        ?data orkgp:HAS_DATASET ?dataset.
        ?dataset orkgp:P37343 ?type;
                 orkgp:P4059 ?simulation_parameters.
        ?type rdfs:label ?label.
        FILTER(REGEX(?label, "Technical"))
      }
    }
  }
}
